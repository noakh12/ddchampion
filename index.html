<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DD Champion - Minigame by hoggo</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #0e6a74;
        }
        #game-container {
            background-color: #4A4A4A;
            border-radius: 10px;
            padding: 20px;
            width: 400px;
            text-align: center;
        }
        #title-screen, #tutorial-screen, #game-screen, #result-screen, #end-screen {
            display: none;
        }
        #stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: white;
        }
        #scenario, #tutorial-text, #result-text, #end-text {
            background-color: #2A2A2A;
            color: white;
            padding: 10px;
            margin-bottom: 10px;
            min-height: 100px;
        }
        button {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #ddd;
        }
        h1, h2 {
            color: white;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #ddd;
            border-radius: 10px;
            margin-top: 10px;
        }
        .progress {
            width: 0;
            height: 100%;
            background-color: #4CAF50;
            border-radius: 10px;
            transition: width 0.5s;
        }
        .score-change {
            position: absolute;
            font-weight: bold;
            opacity: 0;
            transition: all 0.5s;
        }
        .result-image, .end-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            margin-bottom: 10px;
        }
                .image-button {
            width: 50px;
            height: 50px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            border: none;
            cursor: pointer;
            margin: 10px;
        }

        #play-button {
            background-image: url('https://noakh12.github.io/ddchampion/images/play.png');
        }

        #pause-button {
            background-image: url('https://noakh12.github.io/ddchampion/images/pause.png');
            display: none; /* Hidden by default */
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="title-screen">
            <h1>Hoggo Deal Closer</h1>
            <button onclick="showTutorial()">Start Game</button>
        </div>
        <div id="tutorial-screen">
            <h2>Tutorial</h2>
            <div id="tutorial-text">
                You are a startup founder trying to close as many deals with big clients as possible.
                <br><br>
                Your goal is to secure deals while maintaining your company's reputation and resources.
                <br><br>
                Let's get started!
            </div>
            <button onclick="startGame()">I'm ready!</button>
            <div id="control-buttons">
            <button id="play-button" class="image-button" onclick="togglePlayPause()"></button>
            <button id="pause-button" class="image-button" onclick="togglePlayPause()"></button>
        </div>
        </div>
        <div id="game-screen">
            <div id="stats">
                <span>Deals: <span id="deals">0</span></span>
                <span>Score: <span id="score">0</span></span>
                <span>Reputation: <span id="reputation">100</span></span>
            </div>
            <div class="progress-bar">
                <div id="progress" class="progress"></div>
            </div>
            <div id="scenario"></div>
            <div id="choices">
                <button id="choice1"></button>
                <button id="choice2"></button>
            </div>
        </div>
        <div id="result-screen">
            <img id="result-image" class="result-image" src="" alt="Result">
            <div id="result-text"></div>
            <button onclick="nextScenario()">Continue</button>
        </div>
        <div id="end-screen">
            <img id="end-image" class="end-image" src="" alt="Game Over">
            <div id="end-text"></div>
            <button onclick="resetGame()">Play Again</button>
        </div>
    </div>

    <script>
        const scenarios = [
            {
                text: "Your first client requested extensive security documentation. What do you do?",
                image: "https://noakh12.github.io/ddchampion/images/men2.png",
                choices: ["Get an external costly consultant", "Copy from online templates"],
                results: [
                    { text: "The consultant was expensive but worth it. Deal closed!", deals: 1, reputation: 5, score: 100, image: "https://noakh12.github.io/ddchampion/images/dealclosed.png" },
                    { text: "Getting templates online has legal consequences and is error-prone. Deal lost.", deals: 0, reputation: -10, score: -50, image: "https://noakh12.github.io/ddchampion/images/gameover.png" }
                ]
            },
            {
                text: "An investor wants to assess your GDPR compliance efforts. What do you do?",
                image: "https://noakh12.github.io/ddchampion/images/vc.png",
                choices: ["Working on our documents and RoPA", "Ensure them you are GDPR compliant because you have a Privacy Policy"],
                results: [
                    { text: "Working internally on having clear documentation impresses the investor. Deal closed!", deals: 1, reputation: 10, score: 150, image: "/api/placeholder/400/200" },
                    { text: "You used the term 'GDPR compliant'. Investor walks away.", deals: 0, reputation: -5, score: -75, image: "https://noakh12.github.io/ddchampion/images/gameover.png" }
                ]
            },
            {
                text: "Your inbox is full with information requests on your privacy and security practices. How to solve it?",
                image: "https://noakh12.github.io/ddchampion/images/mail.png",
                choices: ["Claim your hoggo Passport and embed it on your site", "Hire someone to manually answer them"],
                results: [
                    { text: "Claiming your company's hoggo Passport was a smart move. Deal closed!", deals: 1, reputation: 10, score: 200, image: "https://noakh12.github.io/ddchampion/images/dealclosed.png" },
                    { text: "Your employee did a lot of mistakes. Multiple deals lost", deals: 0, reputation: -10, score: -100, image: "https://noakh12.github.io/ddchampion/images/gameover.png" }
                ]
            }
        ];

        let currentScenario = 0;
        let deals = 0;
        let reputation = 100;
        let score = 0;

        function showTutorial() {
            document.getElementById('title-screen').style.display = 'none';
            document.getElementById('tutorial-screen').style.display = 'block';
        }

        function startGame() {
            document.getElementById('tutorial-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            displayScenario();
            updateProgress();
        }

        function updateStats() {
            document.getElementById('deals').textContent = deals;
            document.getElementById('reputation').textContent = reputation;
            document.getElementById('score').textContent = score;
        }

        function displayScenario() {
            const scenario = scenarios[currentScenario];
            document.getElementById('scenario').textContent = scenario.text;
            document.getElementById('choice1').textContent = scenario.choices[0];
            document.getElementById('choice2').textContent = scenario.choices[1];
        }

        function updateProgress() {
            const progress = (currentScenario / scenarios.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        function animateScoreChange(change) {
            const scoreChange = document.createElement('div');
            scoreChange.className = 'score-change';
            scoreChange.style.color = change >= 0 ? 'green' : 'red';
            scoreChange.textContent = change >= 0 ? `+${change}` : change;
            document.getElementById('game-container').appendChild(scoreChange);

            // Set initial position
            const rect = document.getElementById('score').getBoundingClientRect();
            scoreChange.style.left = `${rect.left}px`;
            scoreChange.style.top = `${rect.top}px`;

            // Animate
            setTimeout(() => {
                scoreChange.style.opacity = '1';
                scoreChange.style.transform = 'translateY(-20px)';
            }, 50);

            setTimeout(() => {
                scoreChange.style.opacity = '0';
            }, 1000);

            setTimeout(() => {
                scoreChange.remove();
            }, 1500);
        }

        function makeChoice(choiceIndex) {
            const scenario = scenarios[currentScenario];
            const result = scenario.results[choiceIndex];
            
            deals += result.deals;
            reputation += result.reputation;
            score += result.score;
            
            updateStats();
            animateScoreChange(result.score);
            
            // Show result screen
            document.getElementById('game-screen').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';
            document.getElementById('result-image').src = result.image;
            document.getElementById('result-text').textContent = result.text;
        }

        function nextScenario() {
            currentScenario++;
            updateProgress();
            if (currentScenario >= scenarios.length || reputation <= 0) {
                endGame();
            } else {
                document.getElementById('result-screen').style.display = 'none';
                document.getElementById('game-screen').style.display = 'block';
                displayScenario();
            }
        }

        function endGame() {
            document.getElementById('result-screen').style.display = 'none';
            document.getElementById('end-screen').style.display = 'block';
            document.getElementById('end-image').src = "/api/placeholder/400/200";
            document.getElementById('end-text').textContent = `Game Over! You closed ${deals} deals with a final score of ${score}.`;
        }

        function resetGame() {
            currentScenario = 0;
            deals = 0;
            reputation = 100;
            score = 0;
            document.getElementById('end-screen').style.display = 'none';
            document.getElementById('title-screen').style.display = 'block';
            updateStats();
            updateProgress();
        }

        document.getElementById('choice1').addEventListener('click', () => makeChoice(0));
        document.getElementById('choice2').addEventListener('click', () => makeChoice(1));

        // Start with the title screen
        document.getElementById('title-screen').style.display = 'block';
                let isPaused = false;

        function togglePlayPause() {
            isPaused = !isPaused;
            const playButton = document.getElementById('play-button');
            const pauseButton = document.getElementById('pause-button');
            
            if (isPaused) {
                playButton.style.display = 'none';
                pauseButton.style.display = 'inline-block';
                // Add any pause functionality here
            } else {
                pauseButton.style.display = 'none';
                playButton.style.display = 'inline-block';
                // Add any resume functionality here
            }
        }
    </script>
</body>
</html>
